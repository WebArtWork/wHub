import{f as w}from"./chunk-U3KN5ZBC.js";import"./chunk-ND64TP5W.js";import"./chunk-5QEYZB4X.js";import{Cb as g,J as n,K as f,Kb as S,L as h,Nb as b,X as d,_ as u,cb as _,mb as v,nb as y,q as m,r as p,ub as C}from"./chunk-RUQ45WKZ.js";var k={formId:"parse",title:"Parse",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"fill parse title"},{name:"Label",value:"Title"}]},{name:"Text",key:"description",fields:[{name:"Placeholder",value:"fill parse description"},{name:"Label",value:"Description"}]}]};var j=(()=>{let e=class e extends C{constructor(){super({name:"parse"}),this.parses=this.getDocs(),this.parsesByAuthor={},this.get(),this.filteredDocuments(this.parsesByAuthor)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var x=(()=>{let e=class e{get rows(){return this._parseService.parses}constructor(o,r,t,a,c){this._translate=o,this._parseService=r,this._alert=t,this._form=a,this._core=c,this.columns=["name","description"],this.form=this._form.prepareForm(k),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(s,l)=>{this._preCreate(s),this._parseService.create(s),l()}})},update:s=>{this._form.modal(this.form,[],s).then(l=>{this._core.copy(l,s),this._parseService.update(s)})},delete:s=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this parse?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._parseService.delete(s)}}]})},buttons:[{icon:"cloud_download",click:s=>{this._form.modalUnique("parse","url",s)}}],headerButtons:[{icon:"playlist_add",click:this._bulkManagement(),class:"playlist"},{icon:"edit_note",click:this._bulkManagement(!1),class:"edit"}]}}_bulkManagement(o=!0){return()=>{this._form.modalDocs(o?[]:this.rows).then(r=>{if(o)for(let t of r)this._preCreate(t),this._parseService.create(t);else{for(let t of this.rows)r.find(a=>a._id===t._id)||this._parseService.delete(t);for(let t of r){let a=this.rows.find(c=>c._id===t._id);a?(this._core.copy(t,a),this._parseService.update(a)):(this._preCreate(t),this._parseService.create(t))}}})}}_preCreate(o){o.__created}};e.\u0275fac=function(r){return new(r||e)(n(g),n(j),n(v),n(S),n(y))},e.\u0275cmp=f({type:e,selectors:[["ng-component"]],standalone:!1,decls:1,vars:3,consts:[["title","Parses",3,"columns","config","rows"]],template:function(r,t){r&1&&u(0,"wtable",0),r&2&&d("columns",t.columns)("config",t.config)("rows",t.rows)},dependencies:[b],encapsulation:2});let i=e;return i})();var M=[{path:"",component:x}],z=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=h({type:e}),e.\u0275inj=p({imports:[_.forChild(M),w]});let i=e;return i})();export{z as ParsesModule};
