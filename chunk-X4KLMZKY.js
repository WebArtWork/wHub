import{a as N}from"./chunk-QSZTD5DL.js";import{a as S,b as F,c as T,f as L}from"./chunk-U3KN5ZBC.js";import"./chunk-ND64TP5W.js";import{a as E}from"./chunk-5QEYZB4X.js";import{Bb as g,Db as j,G as m,Ib as I,J as p,K as b,Kb as A,L as y,O as C,Oa as v,X as f,Y as a,Z as s,ca as P,cb as M,da as c,ea as u,jb as O,nb as k,oa as l,r as h,v as _,w,wa as x}from"./chunk-RUQ45WKZ.js";var B=()=>({"border-radius":"var(--c-img-round)",width:"52px",height:"52px"});function R(i,t){if(i&1){let d=P();a(0,"wform",13),c("wChange",function(){_(d);let r=u();return w(r.update())}),s()}if(i&2){let d=u();f("config",d.formProfile)("submition",d.user)}}var z=(()=>{let t=class t{constructor(e,r,o){this._form=e,this._core=r,this.us=o,this.url=g.url,this.formPassword=this._form.prepareForm({formId:"change password",title:"Change password",components:[{name:"Password",key:"oldPass",focused:!0,fields:[{name:"Placeholder",value:"Enter your old password"},{name:"Label",value:"Old Password"}]},{name:"Password",key:"newPass",fields:[{name:"Placeholder",value:"Enter your new password"},{name:"Label",value:"New Password"}]}]}),this.formApplication=this._form.prepareForm({formId:"userApplication",title:"Apply for role",components:[...g.applyRoles.map(n=>({name:"Boolean",key:"data.apply"+n,fields:[{name:"Label",value:"Apply for "+n}]}))]}),this._core.onComplete(["us.user","usertool_loaded","userskill_loaded","userprofession_loaded"]).then(()=>{let n={};this._core.copy(this.us.user,n),this.formProfile=this._form.prepareForm(N),this.user=n})}update(){this._core.copy(this.user,this.us.user),this.us.updateMe()}apply(){this._form.modal(this.formApplication,{label:"Change",click:(e,r)=>{console.log(e),r(),this.us.updateMe()}},this.us.user)}changePassword(){this._form.modal(this.formPassword,{label:"Change",click:(e,r)=>{this.us.changePassword(e.oldPass,e.newPass),r()}}).then(e=>{this.us.changePassword(e.oldPass,e.newPass)})}updateThumb(e){this.us.user.thumb=Array.isArray(e)?e[0]:e,this.us.updateMe()}};t.\u0275fac=function(r){return new(r||t)(p(A),p(k),p(E))},t.\u0275cmp=b({type:t,selectors:[["app-profile"]],standalone:!1,decls:20,vars:8,consts:[[1,"container"],[1,"profile__header"],[1,"avatar","_profile"],["err","assets/default.png","container","user",3,"update","value","name","isPhoto","imgStyle","height","width"],[1,"profile__body"],[3,"config","submition","wChange",4,"ngIf"],[1,"profile__footer"],[1,"profile__logout"],["type","danger",3,"click"],[1,"material-icons"],["translate",""],[1,"profile__password"],["type","link","translate","",3,"click"],[3,"wChange","config","submition"]],template:function(r,o){r&1&&(a(0,"div",0)(1,"wcard")(2,"div",1)(3,"div")(4,"div",2)(5,"ngx-file",3),c("update",function(D){return o.updateThumb(D)}),s()()()(),a(6,"div",4),C(7,R,1,2,"wform",5),a(8,"div",6)(9,"div",7)(10,"wbutton",8),c("click",function(){return o.us.logout()}),a(11,"span",9),l(12,"logout"),s(),a(13,"span",10),l(14,"Profile.Logout"),s()()(),a(15,"div",11)(16,"wbutton",12),c("click",function(){return o.apply()}),l(17," Profile.Apply for roles "),s(),a(18,"wbutton",12),c("click",function(){return o.changePassword()}),l(19," Profile.Change Password "),s()()()()()()),r&2&&(m(5),f("value",o.us.user.thumb?o.url+o.us.user.thumb:"assets/default.png")("name",o.us.user._id+".jpg")("isPhoto",!0)("imgStyle",x(7,B))("height",512)("width",512),m(2),f("ngIf",o.user))},dependencies:[j,v,O,S,I,F],styles:["[_ngcontent-%COMP%]:root{--c-white: #fff;--c-basic: #3558ae;--c-primary: #256eff;--c-primary-hover: #0051f1;--c-secondary: rgb(197, 61, 61);--c-secondary-hover: rgb(150, 42, 42);--c-bg-primary: #f3f4f7;--c-bg-secondary: #ffffff;--c-bg-tertiary: #fcfdfe;--c-border: #f0f1f7;--c-shadow: #f3f3f3;--c-text-primary: #666666;--c-text-secondary: #19235c;--c-placeholder: #313335ab;--c-img-round: 50%;--card-background: #fefefe;--card-border-radius: 10px;--card-box-shadow: 0 4px 12px rgba(0, 0, 0, .15);--card-margin-bottom: 24px;--card-header-padding: 20px;--card-header-background: #e0e0e0;--card-body-padding: 20px;--card-section-padding: 10px 0;--card-footer-padding: 20px;--card-footer-background: #e0e0e0;--card-border-width: 2px;--card-border-color: #cccccc;--file-img-border-radius: 50%;--file-add-bg: #28a745;--file-add-bg-hover: #218838;--file-item-border-radius: 10px;--day-name: #988888;--b-radius-btn: 10px;--transition: all .3s;--events: #4c8e9d;--border: rgba(102, 91, 91, .432)}html.dark[_ngcontent-%COMP%]:root{--c-white: #fff;--c-basic: #333;--c-bg-primary: #282828;--c-bg-secondary: #343434;--c-bg-tertiary: #404040;--c-border: #404040;--c-shadow: #444444;--c-text-primary: #ffffff;--c-text-secondary: #ffffff;--c-placeholder: #d3cdcd;--c-calendar: #141414;--day-name: #dad5d5;--events: #1c2e32;--border: rgb(255 255 255 / 23%)}[_nghost-%COMP%]{width:100%}[_nghost-%COMP%]   wcard[_ngcontent-%COMP%]{width:100%;transition:all .3s;display:block}.container[_ngcontent-%COMP%]{padding:unset}.profile__header[_ngcontent-%COMP%]{z-index:9;top:20px;position:absolute;right:30px;letter-spacing:0;line-height:23px;font-weight:500;font-size:20px;color:var(--c-text-primary);display:flex;justify-content:space-between;align-items:center;border-radius:8px}.profile__footer[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}@media (max-width: 767.9px){.profile__footer[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.profile__footer[_ngcontent-%COMP%]   .profile__logout[_ngcontent-%COMP%]{order:2;margin-top:20px}}.profile__logout[_ngcontent-%COMP%]   .w-btn[_ngcontent-%COMP%]{margin:0;display:flex;justify-content:space-between;align-items:center}.profile__logout[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{margin-right:10px}.imgClass[_ngcontent-%COMP%]{height:52px;width:52px}.avatar[_ngcontent-%COMP%]{border-radius:50%;border:1px solid var(--c-border);position:relative;margin:0 auto;padding:3px}.avatar._profile[_ngcontent-%COMP%]{width:60px;height:60px}.avatar__img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.avatar__upload[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:0;bottom:0;width:24px;height:24px;border-radius:50%;background:var(--c-primary);display:flex;justify-content:center;align-items:center;transition:.3s all ease-in-out}.avatar__icon[_ngcontent-%COMP%]{color:#fff;font-size:16px}.profile__password[_ngcontent-%COMP%]{cursor:pointer}"]});let i=t;return i})();var U=[{path:"",component:z}],ne=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=y({type:t}),t.\u0275inj=h({imports:[M.forChild(U),L,T]});let i=t;return i})();export{ne as ProfileModule};
